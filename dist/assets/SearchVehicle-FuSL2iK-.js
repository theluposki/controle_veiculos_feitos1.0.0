import{_ as w,r as d,o as g,a as n,c,b as e,w as b,v as k,F as C,e as x,t as i,p as I,f as S}from"./index-pGSjRIYZ.js";import{d as p}from"./dexie-SNI3UijA.js";const u=r=>(I("data-v-33cdcc7a"),r=r(),S(),r),A={class:"VehicleCompletion"},D={class:"inputs"},V=u(()=>e("i",{class:"ri-search-line"},null,-1)),j=[V],E={key:0,class:"list"},B=u(()=>e("span",null,"Search",-1)),F={class:"marca"},N={class:"placa"},O={class:"qtd-peca"},q={class:"dataInput"},W={key:1,class:"dataEmpty"},M=u(()=>e("i",{class:"ri-share-forward-2-line"},null,-1)),R=[M],T={__name:"SearchVehicle",setup(r){const o=d(""),s=d([]),h=d("");g(async()=>{s.value=await f(),m()});function m(){const a=Object.keys(s.value[0]).join(",")+`
`,l=s.value.map(t=>(t.data&&(t.data=v(t.data)),Object.values(t).join(","))).join(`
`);h.value=a+l}function y(){const a=`Confira os dados do dia:


`+h.value;window.open("https://api.whatsapp.com/send?text="+encodeURIComponent(a))}async function f(){try{return await p.dados.toArray()}catch(a){console.error(`Error while searching data: ${a.stack||a}`)}}async function _(){try{const a=Date.parse(o.value);if(isNaN(a)){s.value=await p.dados.where("marca").startsWithIgnoreCase(o.value).or("placa").startsWithIgnoreCase(o.value).toArray();return}s.value=await p.dados.where("data").aboveOrEqual(a).toArray()}catch(a){console.error(`Error while searching data: ${a.stack||a}`)}}const v=a=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(a));return(a,l)=>(n(),c("div",A,[e("div",D,[b(e("input",{type:"text",tabindex:"1","onUpdate:modelValue":l[0]||(l[0]=t=>o.value=t),onKeyup:_,placeholder:"digite a placa/modelo/data",style:{"text-transform":"uppercase"}},null,544),[[k,o.value]]),e("button",{class:"btn",tabindex:"2",onClick:_},j)]),s.value.length>0?(n(),c("ul",E,[B,(n(!0),c(C,null,x(s.value,t=>(n(),c("li",{class:"item-list",key:t.id},[e("span",F,i(t.marca),1),e("span",N,i(t.placa),1),e("span",O,i(t.qtdPecas),1),e("span",q,i(v(t.data)),1)]))),128))])):(n(),c("div",W," Nenhum ve√≠culo adicionado. ")),e("div",{class:"btnShared",onClick:y},R)]))}},K=w(T,[["__scopeId","data-v-33cdcc7a"]]);export{K as default};
