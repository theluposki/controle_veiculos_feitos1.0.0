import{_ as y,r as d,o as w,a as n,c,b as e,w as g,v as C,F as k,e as b,t as i,p as x,f as I}from"./index-AnyycVXh.js";import{d as h}from"./dexie-SNI3UijA.js";const _=r=>(x("data-v-4af59a9f"),r=r(),I(),r),S={class:"VehicleCompletion"},V={class:"inputs"},j=_(()=>e("i",{class:"ri-search-line"},null,-1)),A=[j],E={key:0,class:"list"},W={class:"marca"},B={class:"placa"},F={class:"qtd-peca"},O={class:"dataInput"},q={key:1,class:"dataEmpty"},D=_(()=>e("i",{class:"ri-share-forward-2-line"},null,-1)),M=[D],N={__name:"SearchVehicle",setup(r){const o=d(""),t=d([]),u=d("");w(async()=>{t.value=await m(),v()});function v(){if(t.value.length<=0)return;const a=Object.keys(t.value[0]).join(",")+`
`,l=t.value.map(s=>Object.values(s).join(",")).join(`
`);u.value=a+l}function f(){const a=`Confira os dados do dia:


`+u.value;window.open("https://api.whatsapp.com/send?text="+encodeURIComponent(a))}async function m(){try{return await h.dados.toArray()}catch(a){console.error(`Error while searching data: ${a.stack||a}`)}}async function p(){try{const a=await h.dados.where("data").startsWithIgnoreCase(o.value).or("marca").startsWithIgnoreCase(o.value).or("placa").startsWithIgnoreCase(o.value).toArray();t.value=a}catch(a){console.error(`Error while searching data: ${a.stack||a}`)}}return(a,l)=>(n(),c("div",S,[e("div",V,[g(e("input",{type:"text",tabindex:"1","onUpdate:modelValue":l[0]||(l[0]=s=>o.value=s),onKeyup:p,placeholder:"digite a placa/modelo/data",style:{"text-transform":"uppercase"}},null,544),[[C,o.value]]),e("button",{class:"btn",tabindex:"2",onClick:p},A)]),t.value.length>0?(n(),c("ul",E,[(n(!0),c(k,null,b(t.value,s=>(n(),c("li",{class:"item-list",key:s.id},[e("span",W,i(s.marca),1),e("span",B,i(s.placa),1),e("span",F,i(s.qtdPecas),1),e("span",O,i(s.data),1)]))),128))])):(n(),c("div",q," Nenhum ve√≠culo adicionado. ")),e("div",{class:"btnShared",onClick:f},M)]))}},K=y(N,[["__scopeId","data-v-4af59a9f"]]);export{K as default};
