import{_ as f,r as d,o as w,a as r,c as n,b as t,w as g,v as b,F as k,e as S,t as i,p as x,f as I}from"./index-fKgYaVKw.js";import{d as u}from"./dexie-SNI3UijA.js";const p=c=>(x("data-v-eac3d298"),c=c(),I(),c),C={class:"VehicleCompletion"},D={class:"inputs"},V=p(()=>t("i",{class:"ri-search-line"},null,-1)),j=[V],A={key:0,class:"list"},E=p(()=>t("span",null,"Search",-1)),B={class:"marca"},F={class:"placa"},N={class:"qtd-peca"},q={class:"dataInput"},O={key:1,class:"dataEmpty"},M=p(()=>t("div",{class:"btnShared"},[t("i",{class:"ri-share-forward-2-line"})],-1)),T={__name:"SearchVehicle",setup(c){const o=d(""),s=d([]),v=d("");w(async()=>{s.value=await y(),m()});function m(){const a=Object.keys(s.value[0]).join(",")+`
`,l=s.value.map(e=>(e.data&&(e.data=_(e.data)),Object.values(e).join(","))).join(`
`);v.value=a+l}async function y(){try{return await u.dados.toArray()}catch(a){console.error(`Error while searching data: ${a.stack||a}`)}}async function h(){try{const a=Date.parse(o.value);if(isNaN(a)){s.value=await u.dados.where("marca").startsWithIgnoreCase(o.value).or("placa").startsWithIgnoreCase(o.value).toArray();return}s.value=await u.dados.where("data").aboveOrEqual(a).toArray()}catch(a){console.error(`Error while searching data: ${a.stack||a}`)}}const _=a=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(a));return(a,l)=>(r(),n("div",C,[t("div",D,[g(t("input",{type:"text",tabindex:"1","onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),onKeyup:h,placeholder:"digite a placa/modelo/data",style:{"text-transform":"uppercase"}},null,544),[[b,o.value]]),t("button",{class:"btn",tabindex:"2",onClick:h},j)]),s.value.length>0?(r(),n("ul",A,[E,(r(!0),n(k,null,S(s.value,e=>(r(),n("li",{class:"item-list",key:e.id},[t("span",B,i(e.marca),1),t("span",F,i(e.placa),1),t("span",N,i(e.qtdPecas),1),t("span",q,i(_(e.data)),1)]))),128))])):(r(),n("div",O," Nenhum ve√≠culo adicionado. ")),M]))}},K=f(T,[["__scopeId","data-v-eac3d298"]]);export{K as default};
