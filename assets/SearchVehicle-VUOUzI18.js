import{_ as g,r as d,o as w,a as n,c,b as e,w as b,v as C,F as k,e as x,t as r,p as I,f as S}from"./index-zCSp_xzI.js";import{d as _}from"./dexie-SNI3UijA.js";const v=l=>(I("data-v-cd1b88e0"),l=l(),S(),l),V={class:"VehicleCompletion"},j={class:"inputs"},A=v(()=>e("i",{class:"ri-search-line"},null,-1)),E=[A],W={key:0,class:"list"},B={class:"marca"},F={class:"placa"},O={class:"qtd-peca"},q={class:"dataInput"},D={key:1,class:"dataEmpty"},M=v(()=>e("i",{class:"ri-share-forward-2-line"},null,-1)),N=[M],U={class:"count"},$={__name:"SearchVehicle",setup(l){const o=d(""),t=d([]),h=d(""),u=d(null);w(async()=>{t.value=await f(),m()});function m(){if(t.value.length<=0)return;const a=Object.keys(t.value[0]).join(",")+`
`,i=t.value.map(s=>Object.values(s).join(",")).join(`
`);h.value=a+i}function y(){const a=`Confira os dados do dia:


`+h.value;window.open("https://api.whatsapp.com/send?text="+encodeURIComponent(a))}async function f(){try{const a=await _.dados.toArray();return u.value=a.length,a}catch(a){console.error(`Error while searching data: ${a.stack||a}`)}}async function p(){try{const a=await _.dados.where("data").startsWithIgnoreCase(o.value).or("marca").startsWithIgnoreCase(o.value).or("placa").startsWithIgnoreCase(o.value).toArray();u.value=a.length,t.value=a}catch(a){console.error(`Error while searching data: ${a.stack||a}`)}}return(a,i)=>(n(),c("div",V,[e("div",j,[b(e("input",{type:"text",tabindex:"1","onUpdate:modelValue":i[0]||(i[0]=s=>o.value=s),onKeyup:p,placeholder:"digite a placa/modelo/data",style:{"text-transform":"uppercase"}},null,544),[[C,o.value]]),e("button",{class:"btn",tabindex:"2",onClick:p},E)]),t.value.length>0?(n(),c("ul",W,[(n(!0),c(k,null,x(t.value,s=>(n(),c("li",{class:"item-list",key:s.id},[e("span",B,r(s.marca),1),e("span",F,r(s.placa),1),e("span",O,r(s.qtdPecas),1),e("span",q,r(s.data),1)]))),128))])):(n(),c("div",D," Nenhum ve√≠culo adicionado. ")),e("div",{class:"btnShared",onClick:y},N),e("div",U,r(u.value),1)]))}},P=g($,[["__scopeId","data-v-cd1b88e0"]]);export{P as default};
